MobileFrontend.toggle=(function(){var a=MobileFrontend.utils;function c(){var g,m,p,h,f=[],j,l=[];h=document.getElementsByTagName("H2");for(g=0;g<h.length;g++){p=h[g];if(a(p).hasClass("section_heading")){l.push(p);j=p.getElementsByTagName("button");for(m=0;m<j.length;m++){f.push(j[m])}}}window.wm_toggle_section=b;for(g=0;g<f.length;g++){a(f[g]).remove()}function k(){var i=this.id?this.id.split("_")[1]:-1;if(i!==-1){b(i)}}function n(r){var q,i;q=document.createElement("button");i=document.createTextNode(MobileFrontend.message(r?"expand-section":"collapse-section"));q.className=r?"show":"hide";q.appendChild(i);return q}a(document.body).addClass("togglingEnabled");for(g=0;g<l.length;g++){p=l[g];p.removeAttribute("onclick");p.insertBefore(n(true),p.firstChild);p.insertBefore(n(false),p.firstChild);a(p).bind("click",k)}function o(){var i=this.hash||document.location.hash;if(i.indexOf("#")===0){e(i)}}o();for(m=document.getElementsByTagName("a"),g=0;g<m.length;g++){a(m[g]).bind("click",o)}}function e(i){var g=document.getElementById(i.substr(1)),h,f;if(g){h=g;while(h&&!a(h).hasClass("content_block")&&!a(h).hasClass("section_heading")){h=h.parentNode}if(h&&!a(h).hasClass("openSection")){f=h.id.split("_")[1];b(f)}}}function b(n){var m=document.getElementById("section_"+n),f,l=m.getElementsByTagName("button"),g,o,k,j,h=[];if(a(m).hasClass("openSection")){a(m).removeClass("togglefix");a(m).removeClass("openSection");j=true}else{h.push(m);a(m).addClass("openSection")}for(g=0,d=["content_","anchor_"];g<=1;g++){k=document.getElementById(d[g]+n);if(k&&a(k).hasClass("openSection")){a(k).removeClass("togglefix");a(k).removeClass("openSection")}else{if(k){h.push(k);a(k).addClass("openSection")}}}f="section_"+n;k=document.getElementById(f);k.removeAttribute("id");window.location.hash=j?"#_":"#"+f;k.setAttribute("id",f);window.setTimeout(function(){var p;for(p=0;p<h.length;p++){a(h[p]).addClass("togglefix")}},400)}c();return{wm_reveal_for_hash:e,wm_toggle_section:b,init:c}}());