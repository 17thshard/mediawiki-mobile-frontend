mw.loader.implement("ext.Experiments.eventlog",function(){(function(window,document,encode){'use strict';var ENDPOINT='//bits.wikimedia.org/event.gif?';var POLL_INTERVAL=500;window._evq=window._evq||[];function serialize(ev){var kv=[],key,param;if(!('event_id'in ev)||!(ev.event_id.length)){throw new Error('Event is missing "event_id" key');}for(key in ev){param=encode(key)+'='+encode(ev[key]);key==='event_id'?kv.unshift(param):kv.push(param);}return kv.join('&');}function track(ev){var beacon,uri;uri=ENDPOINT+serialize(ev);if(uri.length>2000){throw new Error('track(): request URI too long');}beacon=document.createElement('img');beacon.src=uri;}function dequeue(){var e;while((e=_evq.pop())!==undefined){track(e);}}window.setInterval(dequeue,POLL_INTERVAL);window.onbeforeunload=dequeue;window._evq.track=track;}(window,document,window.encodeURIComponent));;},{},{});
/* cache key: enwiki:resourceloader:filter:minify-js:7:54edbb27ce27e8ad4dbbab0c8907dc33 */