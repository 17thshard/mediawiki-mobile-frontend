if(typeof jQuery!=="undefined"){MobileFrontend.references=(function(f){var d=function(){},h,b={},c;h=window.location.hash.substr(1).match(/refspeed:([0-9]*)/);b.animationSpeed=h?parseInt(h[1],10):500;h=window.location.hash.substr(1).match(/refanimation:([a-z]*)/);b.animation=h?h[1]:null;function e(){var i={};f("ol.references li").each(function(j,k){i[f(k).attr("id")]={html:f(k).html()}});return i}function a(){var i=navigator.userAgent;return i.match(/AppleWebKit\/(53[4-9]|5[4-9]\d?|[6-9])\d?\d?/)?true:false}if(!a()){d=function(){var i=f("#mf-references").outerHeight();f("#mf-references").css({top:(window.innerHeight+window.pageYOffset)-i,bottom:"auto",position:"absolute"})};f(document).scroll(d);document.body.ontouchstart=function(){c=f("#mf-references").is(":visible");f("#mf-references").hide()};document.body.ontouchend=function(){if(c){f("#mf-references").show()}}}function g(){var j=f('<div id="mf-references"><div></div></div>').hide().appendTo(document.body)[0];function l(r){r.stopPropagation()}j.ontouchstart=l;var q=function(){var r;n=null;if(b.animation==="none"){f("#mf-references").hide()}else{if(b.animation==="slide"){r=window.innerHeight+window.pageYOffset;f("#mf-references").show().animate({top:r},b.animationSpeed)}else{f("#mf-references").fadeOut(b.animationSpeed)}}},n,k,m,i,p=e();f("<button>close</button>").click(q).appendTo("#mf-references");f(".mw-cite-backlink a").click(q);function o(r){var t,s;i=f(this).attr("href");k=i&&i.charAt(0)==="#"?p[i.substr(1,i.length)]:null;if(!f("#mf-references").is(":visible")||n!==i){n=i;if(k){m="<h3>"+f(this).text()+"</h3>"+k.html}else{m=f("<a />").text(f(this).text()).attr("href",i).appendTo("<div />").parent().html()}f("#mf-references div").html(m);f("#mf-references div sup a").click(o);d();if(b.animation==="none"){f("#mf-references").show()}else{if(b.animation==="slide"){t=window.innerHeight+window.pageYOffset;s=f("#mf-references").outerHeight();f("#mf-references").show().css({top:t}).animate({top:t-s},b.animationSpeed)}else{f("#mf-references").fadeIn(b.animationSpeed)}}}else{q()}r.preventDefault()}f("sup a").unbind("click").click(o).each(function(r,s){s.ontouchstart=l})}g()}(jQuery))};