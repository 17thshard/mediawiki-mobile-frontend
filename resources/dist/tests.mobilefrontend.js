this.mfModules=this.mfModules||{},this.mfModules["tests.mobilefrontend"]=(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e){t.exports={escapeSelector:function(t){return $.escapeSelector(t)},grep:function(){return $.grep.apply($,arguments)},docReady:function(t){return $(t)},when:function(){return $.when.apply($,arguments)},Deferred:function(){var t=$.Deferred(),e="Use Promise compatible methods `then` and `catch` instead.";return mw.log.deprecate(t,"fail",t.fail,e),mw.log.deprecate(t,"always",t.always,e),mw.log.deprecate(t,"done",t.done,e),t},getDocument:function(){return $(document.documentElement)},getWindow:function(){return $(window)},parseHTML:function(t,e){return $($.parseHTML(t,e))},isNumeric:function(){return $.isNumeric.apply($,arguments)},extend:function(){return $.extend.apply($,arguments)},escapeHash:function(t){return t.replace(/(:|\.)/g,"\\$1")},isModifiedEvent:function(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey},repeatEvent:function(t,e,n,i){return t.on(n,function(t){return e.emit(n,t)},i)}}},function(t,e){t.exports=function(t,e,n){var i;for(i in n?OO.inheritClass(t,e):(OO.initClass(t),n=e),n)t.prototype[i]=n[i]}},function(t,e,n){var i=n(0),o=n(1),r=/^(\S+)\s*(.*)$/,s=0;function a(){this.initialize.apply(this,arguments)}OO.mixinClass(a,OO.EventEmitter),o(a,{className:void 0,tagName:"div",isTemplateMode:!1,isBorderBox:!0,template:void 0,templatePartials:{},defaults:{},events:null,initialize:function(t){var e=this;OO.EventEmitter.call(this),t=i.extend({},this.defaults,t),this.options=t,this.cid=function(t){var e=(++s).toString();return t?t+e:e}("view"),"string"==typeof this.template&&(this.template=mw.template.compile(this.template)),t.el?this.$el=$(t.el):this.$el=this.parseHTML("<"+this.tagName+">"),this.$el.length?this._postInitialize():i.docReady(function(){e.$el=$(t.el),e._postInitialize()})},_postInitialize:function(){this.$el.addClass(this.className),this.isBorderBox&&this.$el.addClass("view-border-box"),this.render(this.options)},preRender:function(){},postRender:function(){},render:function(t){var e;return i.extend(this.options,t),this.preRender(),this.undelegateEvents(),this.template&&!this.options.skipTemplateRender&&(e=this.template.render(this.options,this.templatePartials),this.isTemplateMode?this.$el=$(e):this.$el.html(e)),this.postRender(),this.delegateEvents(),this},$:function(t){return this.$el.find(t)},delegateEvents:function(t){var e,n,i;if(t=t||this.events)for(n in this.undelegateEvents(),t)"function"!=typeof(i=t[n])&&(i=this[t[n]]),i&&(e=n.match(r),this.delegate(e[1],e[2],i.bind(this)))},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid)},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},parseHTML:i.parseHTML}),["append","prepend","appendTo","prependTo","after","before","insertAfter","insertBefore","remove","detach"].forEach(function(t){a.prototype[t]=function(){return this.$el[t].apply(this.$el,arguments),this}}),t.exports=a},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){!function(){t.exports=this.sinon}()},function(t,e,n){var i=["seconds","minutes","hours","days","months","years"],o=n(0),r=[1,60,3600,86400,2592e3,31536e3];function s(t){for(var e=0;e<r.length&&t>r[e+1];)++e;return{value:Math.round(t/r[e]),unit:i[e]}}function a(t){return s(Math.round((new Date).getTime()/1e3)-t)}function c(t){return"seconds"===t.unit&&t.value<10}t.exports={getLastModifiedMessage:function(t,e,n,i){var r,s,u=[];return n=n||"unknown",c(r=a(t))?u.push("mobile-frontend-last-modified-with-user-just-now",n,e):u.push({seconds:"mobile-frontend-last-modified-with-user-seconds",minutes:"mobile-frontend-last-modified-with-user-minutes",hours:"mobile-frontend-last-modified-with-user-hours",days:"mobile-frontend-last-modified-with-user-days",months:"mobile-frontend-last-modified-with-user-months",years:"mobile-frontend-last-modified-with-user-years"}[r.unit],n,e,mw.language.convertNumber(r.value)),u.push(i||"#",mw.language.convertNumber(e?1:0),e?mw.util.getUrl("User:"+e):""),s=mw.message.apply(this,u).parse(),i?s:o.parseHTML("<div>").html(s).text()},getRegistrationMessage:function(t,e){var n,i=[];return e=e||"unknown",c(n=a(parseInt(t,10)))?i.push("mobile-frontend-joined-just-now",e):i.push({seconds:"mobile-frontend-joined-seconds",minutes:"mobile-frontend-joined-minutes",hours:"mobile-frontend-joined-hours",days:"mobile-frontend-joined-days",months:"mobile-frontend-joined-months",years:"mobile-frontend-joined-years"}[n.unit],e,mw.language.convertNumber(n.value)),mw.message.apply(this,i).parse()},timeAgo:s,getTimeAgoDelta:a,isNow:c,isRecent:function(t){return["seconds","minutes","hours"].indexOf(t.unit)>-1}}},function(t,e,n){var i,o=n(0);function r(t){var e=function(){var n=this["__cache"+e.cacheId]||(this["__cache"+e.cacheId]={}),i=[].join.call(arguments,"|");return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=t.apply(this,arguments)};return e.cacheId=Date.now().toString()+Math.random().toString(),e}function s(t,e){this.userAgent=t,this.$el=e,this._fixIosLandscapeBug()}s.prototype={_fixIosLandscapeBug:function(){var t=this;this.$el.find('meta[name="viewport"]')[0]&&(this.isIos(4)||this.isIos(5))&&(this.lockViewport(),document.addEventListener("gesturestart",function(){t.lockViewport()},!1))},isIos:r(function(t){var e=this.userAgent,n=/ipad|iphone|ipod/i.test(e);if(!n||!t)return n;switch(t){case 8:return/OS 8_/.test(e)||/Version\/8/.test(e);case 4:return/OS 4_/.test(e);case 5:return/OS 5_/.test(e);default:return!1}}),lockViewport:function(){this.$el&&this.$el.find('meta[name="viewport"]').attr("content","initial-scale=1.0, maximum-scale=1.0, user-scalable=no")},isWideScreen:r(function(){var t=parseInt(mw.config.get("wgMFDeviceWidthTablet"),10);return window.innerWidth>=t||window.innerHeight>=t}),supportsAnimations:r(function(){var t=document.createElement("foo").style;function e(e){return e in t||"webkit"+e[0].toUpperCase()+e.slice(1)in t}return e("animationName")&&e("transform")&&e("transition")}),supportsTouchEvents:r(function(){return"ontouchstart"in window}),supportsGeoLocation:r(function(){return"geolocation"in navigator})},s.getSingleton=function(){var t;return i||(t=o.getDocument(),i=new s(window.navigator.userAgent,t)),i},t.exports=s},function(t,e,n){var i="object"!=typeof window;t.exports={setUp:function(t,e){i&&(e.$=e.$||void 0,t.stub(e,"$",n(12)))},tearDown:function(){i&&delete n.c[12]}}},function(t,e){function n(){this._cache={}}function i(){}n.prototype.get=function(t){return this._cache[t]},n.prototype.set=function(t,e){this._cache[t]=e},i.prototype.get=function(){},i.prototype.set=function(){},t.exports={MemoryCache:n,NoCache:i}},function(t,e,n){var i="object"!=typeof window;t.exports={setUp:function(t,e){i&&(e.OO=e.OO||void 0,t.stub(e,"OO",n(22)))}}},function(t,e){function n(){this._register={},OO.EventEmitter.call(this)}n.prototype={require:function(t){var e,n,i=this._register;function o(){if(!Object.hasOwnProperty.call(i,t))throw new Error("MobileFrontend Module not found: "+t);return i[t]}n=t.split("/");try{return(e=mw.loader.require(n[0]))[n[1]]?e[n[1]]:o()}catch(t){return o()}},define:function(t,e){var n=this;if(Object.hasOwnProperty.call(this._register,t))throw new Error("Module already exists: "+t);return this._register[t]=e,{deprecate:function(i){n.deprecate(i,e,t)}}},deprecate:function(t,e,n){var i;n&&(i="Use "+n+" instead."),mw.log.deprecate(this._register,t,e,i)}},OO.mixinClass(n,OO.EventEmitter),t.exports=n},function(t,e,n){var i="object"!=typeof window,o=i&&n(19);t.exports={setUp:function(t,e){i&&(e.window=e.window||void 0,e.document=e.document||void 0,t.stub(e,"window",(new o.JSDOM).window),t.stub(e,"document",window.document))}}},function(t,e){!function(){t.exports=this.jquery}()},,,,,function(t,e,n){n(18),n(20),n(21),n(23),n(24),n(25),t.exports=n(28)},function(t,e,n){(function(t){var e,i,o=n(6),r=n(11),s=n(7),a=n(4);QUnit.module("MobileFrontend Browser.js",{beforeEach:function(){i=a.sandbox.create(),r.setUp(i,t),s.setUp(i,t),e=$("<html>")},afterEach:function(){i.restore()}}),QUnit.test("isIos()",function(t){var n=new o("Mozilla/5.0 (iPad; CPU OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko)",e),i=new o("Mozilla/5.0 (iPad; CPU OS 4_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko)",e),r=new o("Mozilla/5.0 (iPad; CPU OS 5_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko)",e),s=new o("Mozilla/5.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/8.0 Mobile/11A465 Safari/9537.53",e);t.strictEqual(n.isIos(),!0),t.strictEqual(n.isIos(8),!1),t.strictEqual(n.isIos(4),!1),t.strictEqual(n.isIos(5),!1),t.strictEqual(s.isIos(),!0),t.strictEqual(s.isIos(8),!0),t.strictEqual(i.isIos(4),!0),t.strictEqual(r.isIos(5),!0)}),QUnit.test("Methods are cached",function(t){var n=new o("Mozilla/5.0 (iPad; CPU OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko)",e),i=new o("Mozilla/5.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/8.0 Mobile/11A465 Safari/9537.53",e),r=new o("Android 2",e);function s(t,e){return t["__cache"+t[e].cacheId]}t.strictEqual(n.isIos(),!0),t.strictEqual(n.isIos(8),!1),t.strictEqual(r.isIos(8),!1),t.strictEqual(i.isIos(),!0),t.strictEqual(i.isIos(8),!0),t.strictEqual(Object.keys(s(n,"isIos")).length,2,"isIos on ipad cached as expected"),t.strictEqual(Object.keys(s(r,"isIos")).length,1,"isIos on android cached as expected"),t.strictEqual(Object.keys(s(i,"isIos")).length,2,"isIos on iphone cached as expected")})}).call(this,n(3))},function(t,e){!function(){t.exports=this.jsdom}()},function(t,e,n){var i=new(0,n(8).MemoryCache);QUnit.module("MobileFrontend cache.js"),QUnit.test("cache set() and get()",function(t){i.set("key","value"),t.strictEqual(i.get("key"),"value")})},function(t,e,n){(function(t){var e,i,o=n(4),r=n(9);QUnit.module("MobileFrontend mfExtend.test.js",{beforeEach:function(){i=o.sandbox.create(),r.setUp(i,t),e=n(1)},afterEach:function(){i.restore()}}),QUnit.test("mfExtend() - extending from constructor",function(t){function n(){}function i(){}e(n,i,{}),t.strictEqual(n.prototype instanceof i,!0)}),QUnit.test("mfExtend() - extending from object",function(t){var n,i=new function(){this.protoMethod=function(){return!0}};function o(){}e(o,i),n=new o,t.strictEqual(n.protoMethod(),!0)}),QUnit.test("mfExtend() - extending from constructor with overrides",function(t){var n;function i(){}e(i,function(){this.protoMethod=function(){return!0}},{protoMethod:function(){return!1}}),n=new i,t.strictEqual(n.protoMethod(),!1)})}).call(this,n(3))},function(t,e){!function(){t.exports=this.oojs}()},function(t,e,n){(function(t){var e,i,o=n(9),r=n(4);QUnit.module("MobileFrontend ModuleLoader",{beforeEach:function(){i=r.sandbox.create(),o.setUp(i,t),e=n(10),this.loader=new e},afterEach:function(){i.restore()}}),QUnit.test("#require",function(t){this.loader.define("foo",1),this.loader.define("bar",5),t.strictEqual(this.loader.require("foo"),1,"Returns appropriate module"),t.strictEqual(this.loader.require("bar"),5,"Returns appropriate module"),t.throws(function(){this.loader.require("undefinedmodule")},"Cannot require an undefined module."),t.throws(function(){this.loader.require("mobile.modules/Foo")},"Cannot require an undefined export on a known module.")}),QUnit.test("#define",function(t){var e=this.loader;e.define("foo",1),e.define("bar",5),t.throws(function(){e.define("bar",50)},"Cannot define two modules with the same name"),t.strictEqual(this.loader.require("bar"),5,"Returns first definition of module.")})}).call(this,n(3))},function(t,e,n){var i=n(5);QUnit.module("MobileFrontend time.js"),QUnit.test("timeAgo()",function(t){t.deepEqual(i.timeAgo(40),{value:40,unit:"seconds"}),t.deepEqual(i.timeAgo(149),{value:2,unit:"minutes"}),t.deepEqual(i.timeAgo(150),{value:3,unit:"minutes"}),t.deepEqual(i.timeAgo(7500),{value:2,unit:"hours"}),t.deepEqual(i.timeAgo(9e4),{value:1,unit:"days"}),t.deepEqual(i.timeAgo(9e6),{value:3,unit:"months"}),t.deepEqual(i.timeAgo(32e6),{value:1,unit:"years"}),t.deepEqual(i.timeAgo(102e6),{value:3,unit:"years"})})},function(t,e,n){(function(t){var e,i,o=n(11),r=n(26),s=n(7),a=n(4);QUnit.module("MobileFrontend util.js",{beforeEach:function(){i=a.sandbox.create(),o.setUp(i,t),r.setUp(i,t),s.setUp(i,t),e=n(0)},afterEach:function(){s.tearDown(),i.restore()}}),QUnit.test("escapeSelector()",function(t){t.strictEqual(e.escapeSelector("#selector-starts-with-hash"),"\\#selector-starts-with-hash")}),QUnit.test("grep()",function(t){t.deepEqual(e.grep([1,2],function(t){return t>1}),[2])}),QUnit.test("docReady()",function(t){var n=e.docReady();t.strictEqual(n instanceof $,!0)}),QUnit.test("when()",function(t){return e.when({resolved:!0}).then(function(e){t.strictEqual(e.resolved,!0)})}),QUnit.test("parseHTML()",function(t){var n=e.parseHTML("<p>element content</p>",document);t.strictEqual("object"==typeof n,!0),t.strictEqual(n[0].innerHTML,"element content")}),QUnit.test("isNumeric()",function(t){t.strictEqual(e.isNumeric(123),!0),t.strictEqual(e.isNumeric("123"),!0),t.strictEqual(e.isNumeric("The string 123 is true? I don't like it."),!1),t.strictEqual(e.isNumeric(NaN),!1)}),QUnit.test("escapeHash()",function(t){t.strictEqual(e.escapeHash("#escape:...hash"),"#escape\\:\\.\\.\\.hash")}),QUnit.test("isModifiedEvent() - true",function(t){var n=document.createElement("div");n.addEventListener("click",function(n){t.strictEqual(e.isModifiedEvent(n),!0)}),n.dispatchEvent(new window.MouseEvent("click",{ctrlKey:!0}))}),QUnit.test("isModifiedEvent() - false",function(t){var n=document.createElement("div");n.addEventListener("click",function(n){t.strictEqual(e.isModifiedEvent(n),!1)}),n.dispatchEvent(new window.MouseEvent("click"))})}).call(this,n(3))},function(t,e,n){var i="object"!=typeof window,o=n(27);t.exports={setUp:function(t,e){i&&(e.mw=e.mw||void 0,t.stub(e,"mw",o()))}}},function(t,e){t.exports=function(){return{user:{},log:{deprecate:function(){}}}}},function(t,e,n){(function(t){var e,i,o=n(29),r=n(7),s=n(1),a=n(9),c=n(4);QUnit.module("MobileFrontend mobile.startup/View",{beforeEach:function(){i=c.sandbox.create(),r.setUp(i,t),a.setUp(i,t),e=n(2)},afterEach:function(){i.restore()}}),QUnit.test("View",function(t){var n=new e({el:"body"});t.ok(n.$el instanceof $,"assign jQuery object to $el"),t.strictEqual(n.$el[0].tagName.toUpperCase(),"BODY","assign proper jQuery object to $el")}),QUnit.test("View, jQuery proxy functions",function(t){var n=new e({el:"body"});["append","prepend","appendTo","prependTo","after","before","insertAfter","insertBefore","remove","detach"].forEach(function(e){var o=i.stub(n.$el,e);n[e]("test",1),t.ok(o.calledWith("test",1)),o.restore()})}),QUnit.test("View extended, with el property",function(t){var n,i;function o(){e.apply(this,arguments)}s(o,e,{firstHeading:function(){return this.$("h1").text()}}),n=$('<div id="testView"><h1>Test</h1></div>').appendTo("body"),i=new o({el:"#testView"}),t.strictEqual(i.firstHeading(),"Test","register additional functions"),n.remove()}),QUnit.test("View extended, with defined template",function(t){var n;function i(){e.apply(this,arguments)}s(i,e,{className:"my-class",template:o.compile("<h1>{{title}}</h1><p>{{content}}</p>"),title:function(){return this.$("h1").text()},content:function(){return this.$("p").text()}}),n=new i({title:"Test",content:"Some content"}),t.strictEqual(n.$el[0].tagName.toUpperCase(),"DIV","wrap template in <div>"),t.strictEqual(n.$el.hasClass("my-class"),!0,"set class for $el"),t.strictEqual(n.title(),"Test","fill template with data from options"),t.strictEqual(n.content(),"Some content","fill template with data from options")}),QUnit.test("View extended, with partials",function(t){var n;function i(){e.apply(this,arguments)}function r(){i.apply(this,arguments)}s(i,e,{template:o.compile("<h1>{{title}}</h1>{{>content}}")}),s(r,i,{templatePartials:{content:o.compile("<p>{{text}}</p>")}}),n=new r({title:"Test",text:"Some content"}),t.strictEqual(n.$("h1").text(),"Test","fill template with data from options"),t.strictEqual(n.$("p").text(),"Some content","fill partial with data from options")}),QUnit.test("View extended, extending partials",function(t){var n;function i(){e.apply(this,arguments)}function o(){i.apply(this,arguments)}s(i,e,{templatePartials:{a:1,b:2}}),s(o,i,{templatePartials:$.extend(i.prototype.templatePartials,{b:3,c:4})}),n=new o,t.deepEqual(n.templatePartials,{a:1,b:3,c:4})}),QUnit.test("View extended, extending defaults",function(t){var n;function i(){e.apply(this,arguments)}function o(){i.apply(this,arguments)}s(i,e,{defaults:{a:1,b:2}}),s(o,i,{defaults:$.extend(i.prototype.defaults,{b:3,c:4})}),n=new o({c:5}),t.deepEqual(n.options,{a:1,b:3,c:5})}),QUnit.test("View#preRender",function(t){var n;function i(){e.apply(this,arguments)}s(i,e,{template:o.compile("<p>{{text}}</p>"),preRender:function(){this.options.text="hello"}}),n=new i,t.strictEqual(n.$el.html(),"<p>hello</p>","manipulate template data")}),QUnit.test("View#postRender",function(t){var n=i.spy();function o(){e.apply(this,arguments)}s(o,e,{postRender:function(){n()}}),new o,t.strictEqual(n.callCount,1,"invoke postRender")}),QUnit.test("View#delegateEvents",function(t){var n;function i(){e.apply(this,arguments)}s(i,e,{template:o.compile("<p><span>test</span></p>"),events:{"click p span":function(e){e.preventDefault(),t.ok(!0,"Span was clicked and handled")},"click p":"onParagraphClick",click:"onClick"},onParagraphClick:function(e){e.preventDefault(),t.ok(!0,"Paragraph was clicked and handled")},onClick:function(e){e.preventDefault(),t.ok(!0,"View was clicked and handled")}}),(n=new i).appendTo("body"),n.$el.find("span").trigger("click"),n.$el.find("p").trigger("click"),n.$el.trigger("click"),n.undelegateEvents(),n.$el.find("span").trigger("click"),n.$el.find("p").trigger("click"),n.$el.trigger("click")}),QUnit.test("View#render (with isTemplateMode)",function(t){var n,i;function r(){e.apply(this,arguments)}function a(){e.apply(this,arguments)}s(r,e,{template:o.compile('<p class="foo"><span>test</span></p>'),isTemplateMode:!0}),s(a,e,{className:"bar",template:o.compile('<p class="foo"><span>test</span></p>')}),n=new r,i=new a,n.render(),i.render(),t.ok(n.$el.hasClass("foo")),t.ok(i.$el.hasClass("bar"))}),QUnit.test("View#render events (with isTemplateMode)",function(t){var n;function i(){e.apply(this,arguments)}s(i,e,{events:{"click span":"onClick"},onClick:function(){this.$el.empty().text("hello world")},template:o.compile('<p class="foo"><span>test</span></p>'),isTemplateMode:!0}),(n=new i).$("span").trigger("click"),t.strictEqual(n.$el.text(),"hello world","event was called"),t.strictEqual(n.$("span").length,0,"span disappeared"),(n=new i).render(),n.$("span").trigger("click"),t.strictEqual(n.$el.text(),"hello world","event was called"),t.strictEqual(n.$("span").length,0,"span disappeared")})}).call(this,n(3))},function(t,e,n){!function(t,e){t.Template=function(t,e,n,i){this.r=t||this.r,this.c=n,this.options=i,this.text=e||"",this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:function(t){return t=c(t),a.test(t)?t.replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(r,"&#39;").replace(s,"&quot;"):t},t:c,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},rp:function(t,e,n,i){var o=n[t];return o?(this.c&&"string"==typeof o&&(o=this.c.compile(o,this.options)),o.ri(e,n,i)):""},rs:function(t,e,n){var i=t[t.length-1];if(u(i))for(var o=0;o<i.length;o++)t.push(i[o]),n(t,e,this),t.pop();else n(t,e,this)},s:function(t,e,n,i,o,r,s){var a;return(!u(t)||0!==t.length)&&("function"==typeof t&&(t=this.ls(t,e,n,i,o,r,s)),a=""===t||!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,n,i){var o=t.split("."),r=this.f(o[0],e,n,i),s=null;if("."===t&&u(e[e.length-2]))return e[e.length-1];for(var a=1;a<o.length;a++)r&&"object"==typeof r&&o[a]in r?(s=r,r=r[o[a]]):r="";return!(i&&!r)&&(i||"function"!=typeof r||(e.push(s),r=this.lv(r,e,n),e.pop()),r)},f:function(t,e,n,i){for(var o=!1,r=null,s=!1,a=e.length-1;a>=0;a--)if((r=e[a])&&"object"==typeof r&&t in r){o=r[t],s=!0;break}return s?(i||"function"!=typeof o||(o=this.lv(o,e,n)),o):!i&&""},ho:function(t,e,n,i,o){var r=this.c,s=this.options;return s.delimiters=o,i=null==(i=t.call(e,i))?String(i):i.toString(),this.b(r.compile(i,s).render(e,n)),!1},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ls:function(t,e,n,i,o,r,s){var a,c=e[e.length-1];if(!i&&this.c&&t.length>0)return this.ho(t,c,n,this.text.substring(o,r),s);if("function"==typeof(a=t.call(c))){if(i)return!0;if(this.c)return this.ho(a,c,n,this.text.substring(o,r),s)}return a},lv:function(t,e,n){var i=e[e.length-1],o=t.call(i);return"function"==typeof o&&(o=c(o.call(i)),this.c&&~o.indexOf("{{"))?this.c.compile(o,this.options).render(i,n):c(o)}};var n=/&/g,i=/</g,o=/>/g,r=/\'/g,s=/\"/g,a=/[&<>\"\']/;function c(t){return String(null===t||void 0===t?"":t)}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e),function(t){var e=/\S/,n=/\"/g,i=/\n/g,o=/\r/g,r=/\\/g,s={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};function a(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function c(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function u(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,o=t.length;i<o;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function l(t,e){for(var n=0,i=e.length;n<i;n++)if(e[n].o==t.n)return t.tag="#",!0}function p(t,e,n){for(var i=0,o=n.length;i<o;i++)if(n[i].c==t&&n[i].o==e)return!0}function f(t){return t.replace(r,"\\\\").replace(n,'\\"').replace(i,"\\n").replace(o,"\\r")}function d(t){return~t.indexOf(".")?"d":"f"}function h(t){for(var e="",n=0,i=t.length;n<i;n++){var o=t[n].tag;"#"==o?e+=m(t[n].nodes,t[n].n,d(t[n].n),t[n].i,t[n].end,t[n].otag+" "+t[n].ctag):"^"==o?e+=g(t[n].nodes,t[n].n,d(t[n].n)):"<"==o||">"==o?e+=w(t[n]):"{"==o||"&"==o?e+=v(t[n].n,d(t[n].n)):"\n"==o?e+=E('"\\n"'+(t.length-1==n?"":" + i")):"_v"==o?e+=b(t[n].n,d(t[n].n)):void 0===o&&(e+=E('"'+f(t[n])+'"'))}return e}function m(t,e,n,i,o,r){return"if(_.s(_."+n+'("'+f(e)+'",c,p,1),c,p,0,'+i+","+o+',"'+r+'")){_.rs(c,p,function(c,p,_){'+h(t)+"});c.pop();}"}function g(t,e,n){return"if(!_.s(_."+n+'("'+f(e)+'",c,p,1),c,p,1,0,0,"")){'+h(t)+"};"}function w(t){return'_.b(_.rp("'+f(t.n)+'",c,p,"'+(t.indent||"")+'"));'}function v(t,e){return"_.b(_.t(_."+e+'("'+f(t)+'",c,p,0)));'}function b(t,e){return"_.b(_.v(_."+e+'("'+f(t)+'",c,p,0)));'}function E(t){return"_.b("+t+");"}t.scan=function(t,n){var i=t.length,o=0,r=null,l=null,p="",f=[],d=!1,h=0,m=0,g="{{",w="}}";function v(){p.length>0&&(f.push(new String(p)),p="")}function b(t,n){if(v(),t&&function(){for(var t=!0,n=m;n<f.length;n++)if(!(t=f[n].tag&&s[f[n].tag]<s._v||!f[n].tag&&null===f[n].match(e)))return!1;return t}())for(var i,o=m;o<f.length;o++)f[o].tag||((i=f[o+1])&&">"==i.tag&&(i.indent=f[o].toString()),f.splice(o,1));else n||f.push({tag:"\n"});d=!1,m=f.length}function E(t,e){var n="="+w,i=t.indexOf(n,e),o=c(t.substring(t.indexOf("=",e)+1,i)).split(" ");return g=o[0],w=o[1],i+n.length-1}for(n&&(n=n.split(" "),g=n[0],w=n[1]),h=0;h<i;h++)0==o?u(g,t,h)?(--h,v(),o=1):"\n"==t.charAt(h)?b(d):p+=t.charAt(h):1==o?(h+=g.length-1,"="==(r=(l=s[t.charAt(h+1)])?t.charAt(h+1):"_v")?(h=E(t,h),o=0):(l&&h++,o=2),d=h):u(w,t,h)?(f.push({tag:r,n:c(p),otag:g,ctag:w,i:"/"==r?d-w.length:h+g.length}),p="",h+=w.length-1,o=0,"{"==r&&("}}"==w?h++:a(f[f.length-1]))):p+=t.charAt(h);return b(d,!0),f},t.generate=function(e,n,i){var o='var _=this;_.b(i=i||"");'+h(e)+"return _.fl();";return i.asString?"function(c,p,i){"+o+";}":new t.Template(new Function("c","p","i",o),n,t,i)},t.parse=function(t,e,n){return function t(e,n,i,o){for(var r=[],s=null,a=null;e.length>0;)if("#"==(a=e.shift()).tag||"^"==a.tag||l(a,o))i.push(a),a.nodes=t(e,a.tag,i,o),r.push(a);else{if("/"==a.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+a.n);if(s=i.pop(),a.n!=s.n&&!p(a.n,s.n,o))throw new Error("Nesting error: "+s.n+" vs. "+a.n);return s.end=a.i,r}r.push(a)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return r}(t,0,[],(n=n||{}).sectionTags||[])},t.cache={},t.compile=function(t,e){var n=t+"||"+!!(e=e||{}).asString,i=this.cache[n];return i||(i=this.generate(this.parse(this.scan(t,e.delimiters),t,e),t,e),this.cache[n]=i)}}(e)}],[[17,0]]]);
//# sourceMappingURL=tests.mobilefrontend.js.map.json