@import "minerva.mixins";
@import "minerva.variables";

@paddingHorizontal: 24px;
@iconSize: 16px;
@iconHeadingGap: 12px;
@paddingVertical: 1.4em;
@fontSize: .8em;

.client-js .toc-mobile {
	// FIXME: Use predefined colors?
	background-color: @colorGray15;
	border: solid 1px @grayLightest;
	font-size: 1.3em;
	float: left;
	clear: left;
	margin: 1em 0;

	.collapsible-heading {
		font-family: @fontFamily;
		font-size: @fontSize;
		line-height: ( @paddingVertical * 2 ) + @fontSize;
		background-position: right center;
		font-weight: bold;
		padding: 0 @paddingHorizontal 0 (@paddingHorizontal + @iconSize + @iconHeadingGap);
		border-bottom: none;
		&.icon {
			// add right padding to the chevron without reducing tapable area
			border-right: @paddingHorizontal solid transparent;
		}

		// FIXME:  Remove when new icons used in stable
		.icon {
			// @todo: switch to .background-image-svg() when bug 66091 is fixed
			background-image: url('images/contents-ltr.png');
			background-image: -webkit-linear-gradient(transparent, transparent), url('images/contents-ltr.svg');
			background-image: linear-gradient(transparent, transparent), url('images/contents-ltr.svg');
			width: @iconSize;
			height: @iconSize;
			display: block;
			position: absolute;
			left: 1em;
			top: 1em;
		}

		// In table of contents the collapsing caret is on the right
		&.mw-ui-icon {
			&:before {
				float: right;
				// Note font size of .client-js .collapsible-heading:before is currently .4em
				height: ( @paddingVertical * 2 ) / .4em;
				margin-left: 1em;
			}
		}

		.mw-ui-icon {
			position: absolute;
			left: 0;
			top: 1em;
		}
	}

	.collapsible-block {
		// Override default toggle styles
		border-bottom: none;
		margin-left: @paddingHorizontal + @iconSize + @iconHeadingGap;
		margin-right: @paddingHorizontal;
		font-size: (7 * @fontSize) / 8;

		> ul {
			padding-bottom: @fontSize + @headingMargin;
		}

		ul {
			// FIXME: Shouldn't have to do this. Add another class to normal sections to distinguish them from this content_block
			list-style: none;
			// Account for border at bottom of heading
			margin-bottom: 1px;

			li {
				padding-top: @fontSize;
				// This ensures when a heading spills to a second line it can be distinguished from other headings
				line-height: 1.2;
			}
		}
	}
}
