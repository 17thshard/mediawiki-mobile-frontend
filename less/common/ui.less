@import "mediawiki.mixins.less";
@import "buttons.less";
@import 'mainmenu.less';

html,
body {
	// Ensure overlays take up full screen
	height: 100%;
}

// Used for messages on login screen, page lists and uploads and when showing old revisions
.alert {
	padding: 1em @contentMargin;
	margin: 0 0 1em;

	&.warning {
		color: #850;
		background: #feb
	}

	h2 {
		font: bold 100% @fontFamily;
		padding: 0;
		margin: 0 0 .5em 0;
	}
}

// FIXME: remove when new header in stable
.stable {
	.header {
		// .header needs position: relative, it's not always at the top of the page
		// (Zero banners, campaigns)
		position: relative;
		.vertical-gradient( @searchBoxColor, @searchBoxColorTo );
		border-bottom: 1px solid #e2e2e2;
		line-height: (@oldHeaderHeight - 2px);
		text-align: center;
		min-height: (@oldHeaderHeight - 2px);
		padding: 2px @searchBarPaddingLeft 0 @searchBarPaddingLeft;

		h1, h2 {
			font-size: 1.6em;
		}
	}

	/* Menu buttons */
	#mw-mf-main-menu-button,
	#secondary-button {
		// Needed for Special:UserProfile and Special:Nearby
		.background-size( auto, 24px );
		border: none;
		height: @oldHeaderHeight;
		width: @searchBarPaddingLeft;
		position: absolute;
		top: 0;
	}

	.user-button {
		line-height: @oldHeaderHeight;

		&:hover {
			text-decoration: none;
		}

		span {
			display: inline-block;
			width: 24px;
			height: 24px;
			font-weight: bold;
			color: #fff;
			line-height: 24px;
			background: #c91f2c;
			border-radius: 2px;

			&.zero {
				background: #cecece;
			}
		}
	}

	/* Echo Notifications */
	.is-authenticated {
		.header {
			padding-right: @searchBarPaddingRight;
		}
	}

	#secondary-button {
		right: 0;
	}

	/* hamburger */
	// FIXME: make consistent with user-button
	#mw-mf-main-menu-button {
		background: url(images/menu/lowres/main.png) 50% 50% no-repeat;
		.background-size( 24px, 30px );
		left: 0;
	}
}

// FIXME: remove when new header in stable
.client-js .stable {
	#mw-mf-main-menu-button {
		.background-image('images/menu/main.png');
	}
}

.client-js {
	.searchSubmit {
		display: none;
	}
}

.client-nojs {
	.searchSubmit {
		// FIXME: do all buttons in header need to have padding by default?
		padding: 0 !important;
		width: 20%;
	}

	input.search {
		width: 80%;
	}
}

/* Search */
input.search {
	outline: 0;
	width: 100%;
	// FIXME: unable to check but the important may not be needed for Nokia S60;
	background-color: #fff !important; /* remove fennec default background also see bug 36490 */
	.box-sizing( border-box );
	// get rid of rounded corners in Safari
	-webkit-appearance: none;
	// get rid of X in Chrome
	&::-webkit-search-cancel-button {
		-webkit-appearance: none;
	}
}

// FIXME: remove when micro.tap in stable and rule from common-js.less too
.search-box {
	-webkit-tap-highlight-color: rgba(255, 255, 255, 0);
}

.content {
	.edit-page {
		display: none;
		position: absolute;
		background: url(../common/images/pagemenu/edit.png) 100% @headingMargin no-repeat;
		.background-size( auto, 30px );
		text-indent: -9999px;
		border-left: solid 1px @sectionBorderColor;
		width: @sectionIconWidth + 5px;
		top: 0;
		bottom: 0;
		right: 0;
	}

	h1.openSection,
	h2.openSection {
		.edit-page {
			display: block;
		}
	}
}

.stub .edit-page {
	margin: 0;
	display: block;
}

// FIXME: this is here only because non-JS version doesn't load watchstar.less
.watch-this-article {
	background: url(../common/images/watch.png) 50% 50% no-repeat;
	text-indent: -9999px;

	&.watched {
		background-image: url(../common/images/watched.png);
	}
}

.truncated-text {
	white-space: nowrap;
	overflow: hidden;
	-webkit-text-overflow: ellipsis;
	text-overflow: ellipsis;
}

